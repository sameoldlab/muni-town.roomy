<script lang="ts">
  import { Button } from "@fuxui/base";
  import MainLayout from "$lib/components/layout/MainLayout.svelte";
  import SpaceButton from "$lib/components/spaces/SpaceButton.svelte";
  import EarlyAlphaWarning from "$lib/components/helper/EarlyAlphaWarning.svelte";
  import { spaces } from "$lib/queries.svelte";
</script>

<MainLayout>
  {#snippet navbar()}
    <div class="flex w-full items-center gap-3">
      <span class="flex-grow"></span>
      <Button href="https://a.roomy.space" target="_blank">About Roomy</Button>
    </div>
  {/snippet}
  <div
    class="flex flex-col items-center justify-start py-8 overflow-y-auto px-4"
  >
    <div class="flex flex-col gap-8 items-center">
      <h1
        class="text-5xl font-bold text-center text-base-950 dark:text-base-50"
      >
        Hi Roomy ðŸ‘‹
      </h1>
      <p class="text-lg font-medium max-w-2xl text-center text-pretty">
        A digital gardening platform for communities. Flourish in Spaces,
        curating knowledge and conversations together.
      </p>

      <EarlyAlphaWarning />

      <div class="divider"></div>

      <!-- {#if publicDemoSpaces.length > 0}
        <h2 class="text-3xl font-bold text-base-900 dark:text-base-100">
          Public Demo Spaces
        </h2>
        <section class="flex flex-row gap-8 max-w-5xl">
          {#each publicDemoSpaces as space}
            <SpaceButton {space} />
          {/each}
        </section>
      {/if} -->

      {#if spaces.list.length || 0 > 0}
        <h2 class="text-3xl font-bold text-base-900 dark:text-base-100">
          Your Spaces
        </h2>
        <section
          class="flex flex-row gap-8 mx-8 justify-center flex-wrap max-w-5xl"
        >
          {#each spaces.list as space}
            <SpaceButton {space} />
          {/each}
        </section>
      {:else if spaces.list.length || 0 == 0}
        <p class="text-lg font-medium text-center">
          You don't have any spaces yet. Create one to get started!
        </p>
      {:else}
        <p>No servers found.</p>
      {/if}
    </div>
  </div>
</MainLayout>
